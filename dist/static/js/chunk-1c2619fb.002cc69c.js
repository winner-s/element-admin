(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c2619fb"],{"6a39":function(t,e,a){},d63e:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("销户复核")])]),a("div",[a("Search",{attrs:{"search-data":t.searchData,"search-item":t.searchItem,"search-bto":t.searchBto,"show-all":t.showAll},on:{getDataList:t.getDataList,handleInsert:t.handleInsert,dropDown:t.dropDown,dropUp:t.dropUp,handleCommit:t.handleCommit}}),a("Table",{attrs:{"table-data":t.tableData,"table-list-data":t.tableListData,"table-btn":t.tableBtn,"current-data":t.currentData},on:{onPageChange:t.onPageChange,onSizeChange:t.onSizeChange,handleEdit:t.handleEdit,handleViewOther:t.handleViewOther}})],1)]),a("dialog-com",{attrs:{"dialog-obj":t.dialogObj},on:{addSub:t.addSub,updateSub:t.updateSub}})],1)},i=[],s=(a("4160"),a("caad"),a("fb6a"),a("b64b"),a("d3b7"),a("25f0"),a("2532"),a("159b"),a("9247")),o=a("9b18"),r=a("b7c0"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"abow_dialog",attrs:{title:t.dialogObj.title,"append-to-body":"",visible:t.dialogObj.show,"close-on-click-modal":!1,width:"1000px"},on:{"update:visible":function(e){return t.$set(t.dialogObj,"show",e)}}},[t.dialogObj.show?a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,"label-width":"140px","label-position":"left",rules:t.rules,disabled:t.dialogObj.read,"status-icon":"","inline-message":!0}},[a("div",{staticClass:"title"},[a("i",{staticClass:"el-icon-user"}),t._v(" 基本信息")]),a("div",{staticClass:"mb-10"}),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"formItem",attrs:{label:"单据编号：",prop:"djbh"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",disabled:!0,placeholder:t.placeholderTips.content},model:{value:t.form.djbh,callback:function(e){t.$set(t.form,"djbh",e)},expression:"form.djbh"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"formItem",attrs:{label:"单位名称：",prop:"dwmc"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:t.placeholderTips.content},model:{value:t.form.dwmc,callback:function(e){t.$set(t.form,"dwmc",e)},expression:"form.dwmc"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"销户日期：",prop:"xhrq"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期",size:"mini",disabled:!0,"value-format":"yyyy-MM-dd"},model:{value:t.form.xhrq,callback:function(e){t.$set(t.form,"xhrq",e)},expression:"form.xhrq"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"币种：",prop:"bz"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini",disabled:!0},model:{value:t.form.bz,callback:function(e){t.$set(t.form,"bz",e)},expression:"form.bz"}},t._l(t.currencyList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行账号：",prop:"yhzh"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:t.yhzhChange},model:{value:t.form.yhzh,callback:function(e){t.$set(t.form,"yhzh",e)},expression:"form.yhzh"}},t._l(t.yhzhList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.yhzh,value:t.yhzh}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"账户名称：",prop:"zhmc"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",disabled:!0,placeholder:t.placeholderTips.content},model:{value:t.form.zhmc,callback:function(e){t.$set(t.form,"zhmc",e)},expression:"form.zhmc"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行名称：",prop:"yhmc"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini",disabled:!0},model:{value:t.form.yhmc,callback:function(e){t.$set(t.form,"yhmc",e)},expression:"form.yhmc"}},t._l(t.backList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"科目号：",prop:"kmh"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",disabled:!0,placeholder:t.placeholderTips.content},model:{value:t.form.kmh,callback:function(e){t.$set(t.form,"kmh",e)},expression:"form.kmh"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开户行所在省市：",prop:"khhszss"}},[a("el-cascader",{staticStyle:{width:"200px"},attrs:{options:t.options,separator:" ",size:"mini"},model:{value:t.form.khhszss,callback:function(e){t.$set(t.form,"khhszss",e)},expression:"form.khhszss"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"销户申请人：",prop:"xhsqr"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",disabled:!0,placeholder:t.placeholderTips.content},model:{value:t.form.xhsqr,callback:function(e){t.$set(t.form,"xhsqr",e)},expression:"form.xhsqr"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开户行名称：",prop:"khhmc"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",disabled:!0,placeholder:t.placeholderTips.content},model:{value:t.form.khhmc,callback:function(e){t.$set(t.form,"khhmc",e)},expression:"form.khhmc"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联行号：",prop:"lhh"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",disabled:!0,placeholder:t.placeholderTips.content},model:{value:t.form.lhh,callback:function(e){t.$set(t.form,"lhh",e)},expression:"form.lhh"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"账户用途：",prop:"zhyt"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini",disabled:!0},model:{value:t.form.zhyt,callback:function(e){t.$set(t.form,"zhyt",e)},expression:"form.zhyt"}},t._l(t.accountUsageList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否直联：",prop:"sfzl"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini",disabled:!0},model:{value:t.form.sfzl,callback:function(e){t.$set(t.form,"sfzl",e)},expression:"form.sfzl"}},t._l(t.directList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1)],1)],1),a("div",{staticClass:"title"},[a("i",{staticClass:"el-icon-user"}),t._v(" 附加信息")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户经理：",prop:"khjl"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",disabled:!0,placeholder:t.placeholderTips.content},model:{value:t.form.khjl,callback:function(e){t.$set(t.form,"khjl",e)},expression:"form.khjl"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户经理电话：",prop:"khjldh"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",disabled:!0,placeholder:t.placeholderTips.content},model:{value:t.form.khjldh,callback:function(e){t.$set(t.form,"khjldh",e)},expression:"form.khjldh"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"备注：",prop:"bzhu"}},[a("el-input",{staticStyle:{width:"83%"},attrs:{type:"textarea",rows:3,size:"mini",maxlength:"50","show-word-limit":"",placeholder:t.placeholderTips.content},model:{value:t.form.bzhu,callback:function(e){t.$set(t.form,"bzhu",e)},expression:"form.bzhu"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"附件：",prop:"sysFamilyAddress"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"on-exceed":t.handleExceed}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("上传附件(0)条")])],1)],1)],1)],1)],1):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogObj.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("确 定")])],1)],1)},n=[],c=a("30c9"),d=a("61f7"),p={components:{},props:{dialogObj:{type:Object,default:function(){return{}}}},data:function(){return{options:c["a"],backList:s["f"],currencyList:s["i"],accountUsageList:s["d"],directList:s["n"],placeholderTips:d["b"],rules:{djbh:[{required:!0,message:"请填写单据编号",trigger:"blur"}],dwmc:[{required:!0,message:"请填写单位名称",trigger:"blur"}],xhrq:[{required:!0,message:"请填写销户日期",trigger:"blur"}],yhzh:[{required:!0,message:"请填写银行账号",trigger:"blur"}],bzhu:[{required:!0,message:"请填写备注",trigger:"blur"}]},yhzhList:[{yhzh:"125844446",bz:1,zhmc:"ABCD",yhmc:1,kmh:"",khhszss:"北京",khhmc:"北京分行",lhh:"1233211234567",zhyt:1,sfzl:1}],form:{djbh:"",dwmc:"",xhrq:"",bz:"",yhzh:"",zhmc:"",yhmc:"",kmh:"",khhszss:"",khhmc:"",lhh:"",zhyt:"",sfzl:"",xhsqr:"",khjl:"",khjldh:"",bzhu:""}}},computed:{},watch:{"dialogObj.show":function(t){t&&this.initDialog()}},created:function(){},mounted:function(){},methods:{yhzhChange:function(t){var e=this;this.yhzhList.forEach((function(a,l){a.yhzh===t&&Object.keys(a).forEach((function(t){e.form[t]=a[t]}))}))},initDialog:function(){var t=this;this.dialogObj.id?Object.keys(this.form).forEach((function(e){t.form[e]=t.dialogObj.form[e]})):(Object.keys(this.form).forEach((function(e){t.form[e]=""})),this.form.djbh="KH20091410151601",this.form.xhrq=new Date,this.form.xhsqr="admin")},sub:function(){var t=this;this.$refs["form"].validate((function(e){e&&(t.dialogObj.id?t.updateSub():(t.form.djzt=1,t.addSub()))}))},updateSub:function(){this.$emit("updateSub",JSON.parse(JSON.stringify(this.form))),this.dialogObj.show=!1},addSub:function(){this.$emit("addSub",JSON.parse(JSON.stringify(this.form))),this.dialogObj.show=!1}}},m=p,u=(a("f15e"),a("2877")),b=Object(u["a"])(m,h,n,!1,null,"76dbeb01",null),f=b.exports,w={components:{Search:o["a"],Table:r["a"],dialogCom:f},data:function(){return{dialogObj:{id:"",title:"",read:!1,show:!1,form:{}},currencyList:s["i"],djztList:s["p"],backList:s["f"],showAll:!1,unitNoList:s["Z"],currentData:{currentPage:1,size:10,total:10},searchBto:[],list:[{bz:1,bzhu:"123",djbh:"KH20091410151601",djzt:1,dwmc:"111",khhmc:"北京分行",khhszss:["北京市","市辖区","西城区"],khjl:"",khjldh:"",kmh:"",lhh:"1233211234567",sfzl:1,xhrq:"2020-12-07T06:52:37.013Z",xhsqr:"admin",yhmc:1,yhzh:"125844446",zhmc:"ABCD",zhyt:1}],tableData:[],tableBtn:[],searchItem:[],searchData:{nickname:"",documentNumber:""},selectChange:""}},computed:{},watch:{},created:function(){this.tableData=this.list.slice(0,this.currentData.size),this.currentData.total=this.list.length,this.searchBto=[{prop:"select",type:"primary",label:"查询"},{prop:"reset",type:"",label:"重置"}],this.searchItem=[{type:"select",label:"单据编号:",prop:"djbh",placeholder:"请填写单据编号",selectList:this.unitNoList},{type:"input",label:"单位名称:",prop:"dwmc",placeholder:"请填写单位名称"},{type:"select",label:"银行名称:",prop:"yhmc",selectList:this.backList,placeholder:"请填写银行名称"},{type:"input",label:"银行账号:",prop:"yhzh",placeholder:"请填写银行账号"},{type:"select",label:"单据状态:",prop:"djzt",selectList:this.djztList,placeholder:"请选择单据状态",show:this.showAll},{type:"select",label:"币种:",prop:"bz",selectList:this.currencyList,show:this.showAll},{type:"checkbox",label:"包含下级业务单位:",prop:"contain",show:this.showAll}],this.tableListData=[{width:"50",label:"",type:"index",fixed:"left"},{label:"操作",type:"btn",width:"150",fixed:"right"},{prop:"djbh",width:"150",type:"a",label:"单据编号",fixed:"left"},{prop:"yhzh",width:"150",label:"账户号码",fixed:"left"},{prop:"zhmc",width:"150",label:"账户名称"},{prop:"yhmc",width:"150",type:"wordbook",wordbookList:this.back,label:"银行名称"},{prop:"khhmc",width:"150",label:"开户行名称"},{prop:"djzt",width:"150",label:"单据状态",type:"wordbook",wordbookList:this.djzt},{prop:"sfzl",width:"150",label:"是否直联",type:"wordbook",wordbookList:this.direct},{prop:"bz",width:"150",label:"币种",type:"wordbook",wordbookList:this.currency},{prop:"dwmc",width:"150",label:"单位名称"},{prop:"zhyt",width:"150",label:"账户用途",type:"wordbook",wordbookList:this.accountUsage},{prop:"khsqrq",width:"150",label:"开户申请日期"},{prop:"khrq",width:"150",label:"开户日期"},{prop:"xhsqr",width:"150",label:"申请人"}],this.tableBtn=[{name:"复 核",btnType:"primary",handleFn:"handleEdit"}]},mounted:function(){},methods:{handleCommit:function(){var t=this;0!==this.selectChange.length?this.selectChange.forEach((function(e,a){t.list.forEach((function(t,a){t.djbh===e.djbh&&(t.djzt=2)}))})):this.$message({message:"请选择数据再进行提交操作！",type:"warning"})},updateSub:function(t){var e=0;this.tableData.forEach((function(a,l){a.documentNumber===t.documentNumber&&(e=l)})),console.log(e);var a=this.tableData[e];Object.keys(a).forEach((function(e){t[e]&&(a[e]=t[e])})),this.tableData[e]=a,this.list[e]=a},addSub:function(t){this.list.push(t),this.tableData=this.list.slice(0,this.currentData.size),this.currentData.total=this.list.length},direct:function(t){return s["m"][t]},accountUsage:function(t){return s["c"][t]},currency:function(t){return s["h"][t]},back:function(t){return s["e"][t]},djzt:function(t){return s["o"][t]},dropUp:function(){this.showAll=!1,this.searchItem.forEach((function(t,e){void 0!==t.show&&(t.show=!1)}))},dropDown:function(){this.showAll=!0,this.searchItem.forEach((function(t,e){void 0!==t.show&&(t.show=!0)}))},handleInsert:function(){this.dialogObj.id="",this.dialogObj.read=!1,this.dialogObj.show=!0,this.dialogObj.title="新增"},getDataList:function(t){this.currentData.size=10,this.currentData.currentPage=1,this.searchData=t,this.getList()},onPageChange:function(t){this.currentData.currentPage=t,this.getList()},onSizeChange:function(t){this.currentData.size=t,this.currentData.currentPage=1,this.getList()},handleEdit:function(t){t.djzt=2},handleViewOther:function(t){this.dialogObj.id=t.djbh,this.dialogObj.read=!0,this.dialogObj.show=!0,this.dialogObj.title="查看",this.dialogObj.form=JSON.parse(JSON.stringify(t))},getList:function(){var t=this;console.log(this.searchData);var e=[],a=this,l=JSON.parse(JSON.stringify(this.list));l.forEach((function(a,l){var i=!0;for(var s in t.searchData)if(""!==t.searchData[s]&&void 0!==t.searchData[s]){if("djbh"===s){if(!a.djbh.includes(t.searchData[s]))return void(i=!1);i=!0}if("dwmc"===s){if(!a.dwmc.includes(t.searchData[s]))return void(i=!1);i=!0}if("yhmc"===s){if(!a.yhmc.toString().includes(t.searchData[s]))return void(i=!1);i=!0}if("yhzh"===s){if(!a.yhzh.includes(t.searchData[s]))return void(i=!1);i=!0}if("djzt"===s){if(!a.djzt.toString().includes(t.searchData[s]))return void(i=!1);i=!0}if("bz"===s){if(!a.bz.toString().includes(t.searchData[s]))return void(i=!1);i=!0}}!0===i&&e.push(a)})),console.log(e),a.tableData=e}}},y=w,z=Object(u["a"])(y,l,i,!1,null,"48a31d29",null);e["default"]=z.exports},f15e:function(t,e,a){"use strict";a("6a39")}}]);